<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>  طبيب ليك </title>
    <link rel="stylesheet" href="Style.css">
</head>
<body>
    <header>
        <div class="part1">
            <div><img src="./Images/Logo.png" alt="logo"></div>
            <div> طبيب ليك </div>
        </div>
        <div class="part2">
            <a href="">    كيفية العمل ؟</a>
            <button class="btnIdentifier" onclick="Connexion()"> 
                <img src="./Images/Ident.png" alt="Identification">الدخول 
            </button>
        </div>
    </header>
    <div class="espace">
    </div>
    <div class="espace">
    </div>
    <section class="desc">
        <div>
            <p class="p1"> استشارة طبية <br> في كل وقت <br> في أي مكان </p>
            <p class="p2">  طبيب ليك - هي  وسيلة للاستشارة الطبية عبر الإنترنت تضمن العلاقة بين المريض والطبيب دون الحاجة إلى التنقل</p>
            <input type="button" value="استشر الآن" class="btnConsulter">
        </div>
    </section>
    <div class="espace">
    </div>
    <div class="espace">
    </div>


    <form method="post" action="traitement.php" id="connexion" >
        <fieldset id="f2"> 
            <p><img src="./Images/login.png" alt="login" class="imageLog"> </p>
            <p> مرحباً بك </p>
            <hr >
            <div>
                <input type="text" id="emailLog" placeholder=" البريد الالكتروني"  autofocus required>
                <input type="password" id="mdpLog" placeholder="كلمة المرور" required>
            </div>
            <input type="checkbox" class="show" onclick="myFunction()"> <span style="font-size: 14px"> رؤية كلمة المرور </span> 
            <div class="BtnConnexion">
                <input type="submit" value="تسجيل الدخول" >
            </div>
            <p class="lien"><a href=""> هل نسيت كلمة المرور ؟</a></p>
        </fieldset>
    </form>

    <script>
        var modal2 = document.getElementById("connexion");
        window.addEventListener("click", function(event) {
            if(event.target == modal2)
            {
                modal2.style.display="none";
            }
        });
        function Connexion(){   
            modal2.style.display="block";
        }
        function myFunction() {
            var x = document.getElementById("mdpLog");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }
    </script>




    <form method="post" action="traitement.php" id="inscription" >
        <fieldset id="f1">
            <p> إنشاء حساب </p>
            <hr >
            <div>
                <label for="nom"> : الاسم الكامل  </label>
                <input type="text" id="nomc" disabled >
            </div>
            <div>
                <label for="num">: رقم الهاتف  </label>
                <input type="text" id="numc" disabled >
            </div>
            <div>
                <label for="email">  : البريد الالكتروني </label>
                <input type="text" id="email" autofocus><span id="6"  style="color:red;font-size: 16px;"></span>
            </div>
            <div>
                <label for="mdp"> : كلمة المرور </label>
                <input type="password" id="mdp"><span id="7" style="color:red;font-size: 16px;"></span>
            </div>
            <div>
                <label for="cmdp"> : تأكيد كلمة المرور  </label>
                <input type="password" id="cmdp"><span id="8" style="color:red;font-size: 16px;"></span>
            </div>
            <div class="BtnInscription">
                <input type="button" value="إنشاء " onclick="ValiderInsc()" >
            </div>
            <div>
                <p> مسجل من قبل ؟ <br/><a href="javascript:Connexion2()"> ! سجل الدخول الآن </a></p>
            </div>
        </fieldset>
    </form>

    <script>
        function ValiderInsc(){
            var modal = document.getElementById("inscription");
            var modal2 = document.getElementById("connexion");

            cpt2=0;
            var rgxEmail =/^[A-Za-z0-9-_.]+@[A-Za-z]{4,9}.[A-Za-z]{2,3}$/;
            var email=document.getElementById("email");
            var mdp=document.getElementById("mdp");
            var cmdp=document.getElementById("cmdp");

            if( email.value=="" ) document.getElementById('6').innerHTML= "ملء البريد الالكتروني"; 
                else if(!rgxEmail.test(email.value)) document.getElementById('6').innerHTML = "تنسيق غير صحيح";
                else {
                    document.getElementById('6').innerHTML=" ";
                    cpt2++;
                }
            if( mdp.value=="" ) document.getElementById('7').innerHTML= "ملء كلمة المرور";
                else {
                    document.getElementById('7').innerHTML=" ";
                    cpt2++;
                }
            if( cmdp.value=="" ) document.getElementById('8').innerHTML= "ملء تأكيد كلمة المرور";
                if(mdp.value != cmdp.value) document.getElementById('8').innerHTML="غير متوافقان";   
                else {
                    document.getElementById('8').innerHTML=" ";
                    cpt2++;
                }
            if(cpt2==3){
                modal.style.display="none";
                alert("! تم التسجيل بنجاح")
                modal2.style.display="block";
            }
        }
    </script>


    <section class="formulaire">
        <p> ! استشارتك بنقرة واحدة </p>
        <div class="espace">
        </div>
        <form>
            <div class="ligne">
                <div> 
                    <div><label for="num"> : رقم الهاتف  </label></div>
                    <div><input type="tel"  id="num"><span id="2" style="color:red"></span></div>
                </div>
                <div> 
                    <div><label for="nom"> : الاسم الكامل </label></div>
                    <div><input type="text" id="nom"><span id="1" style="color:red"></span></div>
                </div>
            </div>
            <div class="ligne">
                <div> 
                    <div><label for="objet">: الموضوع </label></div>
                    <div><input type="text" id="objet"><span id="3" style="color:red"></span></div>
                </div>
                <div> 
                    <div><label for="categorie">: نوعية التخصص الطبي</label></div>
                    <div>
                        <select id="specialites">
                            <option value="" selected disabled hidden> اختر التخصص</option>
                            <option value="spec1"> 1 التخصص </option>
                            <option value="spec2">2 التخصص </option>
                        </select><span id="4" style="color:red;"></span>
                    </div>
                </div>
            </div>
            <div class="ligne2">
                <div> 
                    <div><label for="message">: الرسالة </label></div>
                    <div><textarea id="message" required></textarea></div><span id="5" style="color:red;"></span>
                </div>
                <input type="button" value="إرسال" class="btnEnvoyer" onclick="Valider()">
            </div>
        </form>
    </section>
    <script>  
         var modal = document.getElementById("inscription");
         var modal2 = document.getElementById("connexion");
         var nom2 = document.getElementById('nomc');
         var num2 = document.getElementById('numc');

        function Connexion2(){   
             modal.style.display="none";
             modal2.style.display="block"
        }

        function Valider(){
            cpt=0;
            var rgx=/^[0][5-7-6][0-9]{8}$/;
            var nom = document.getElementById('nom').value;
            var num = document.getElementById('num').value;
            var objet = document.getElementById('objet').value;
            var message = document.getElementById('message').value;
            var select = document.getElementById("specialites");
            var valeur = select.options[select.selectedIndex].value;
            if(nom=="")
                document.getElementById('1').innerText ="*!";  
            else
            {
                 document.getElementById('1').innerText =" "; 
                 cpt++; 
            }
            if(num=="")
            {
                document.getElementById('2').innerText ="*!";  
            }
            else if(!rgx.test(num)) document.getElementById('2').innerHTML="tel incorrect";
            else
            { 
                document.getElementById('2').innerText =""; 
                cpt++; 
            }
            if(objet=="")
                document.getElementById('3').innerText ="*!";  
            else
            {
                 document.getElementById('3').innerText =""; cpt++; 
            }
            if(valeur=="")
            document.getElementById('4').innerText ="*!";  
            else
            { 
                document.getElementById('4').innerText =""; cpt++; 
            }
            if(message=="")
            document.getElementById('5').innerText ="*!";  
            else
            { 
                document.getElementById('5').innerText =""; cpt++; 
            }
            if(cpt==5)
            {
                modal.style.display = "block";
                nomc.value=nom;
                numc.value=num;
            }
        
            window.addEventListener("click", function(event) {
                    if(event.target == modal)
                    {
                        modal.style.display="none";
                    }
                });
            }
    </script>

    <div class="espace">
    </div>
</body>
</html>